<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="css/main.css" />

    <link rel="icon" type="image/ico/png" href="resources/images/favicon.png" />
    <meta name="description" content="Fund Seeker, A web app to find and give funds">
    <meta name="keywords" content="Funds Track,Fund,Seeker,Sponsor">
    <meta name="author" content="Samad alias Nyein Chan">
    <meta name="robots" content="index, nofollow" />

    <!-- JQuery JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <!-- Personal Scripts -->
    <script src="javascript/scripts.js"></script>
    <!-- <script src="javascript/tables/fake-data/data.js"></script> -->
    

    <title>projectDetails</title>
</head>
<body style="background: white;">
        <div id="header"></div>
        <div style="background: whitesmoke;max-width: 800px;margin:auto;height: 100vh;">
            <div style="margin:auto;max-width: 800px;padding: 20px;display: flex;;">
                <!-- Project Name -->
                <div id="projectName">
                </div>
                <!-- Progress bar -->
                <div style="width:50%; justify-content: center;margin: auto;margin-top: 30px;">
                    <div style="display: flex;"><div style="align-items:flex-start;">Goal</div><div style="margin-left: auto;">$100,000/$200,000</div></div>
                    <div class="progress">
                        <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar" aria-valuenow="83"
                        aria-valuemin="0" aria-valuemax="50" style="width:50%">
                        Requirement Met  50%
                        </div>
                    </div>
                </div>
            </div>
            <!-- Project description -->
            <div id="projectDesc" style="margin:auto;max-width: 800px;padding: 20px;display: flex;flex-direction: column;">
            </div> 
            <!-- Funding table -->
            <div style="margin:auto;max-width: 800px;padding: 20px;display: flex;flex-direction: column;;">
                Ongoing fundings
                <div> 
                    <div id="personal-table"></div>
                </div>
                <div style="text-align: center;width: 100%;"> 
                    <div id="personal-table"></div>
                </div>
            </div> 
        </div>
    <div id="footer"></div>
    <!-- Tabulator -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tabulator/4.4.3/css/bootstrap/tabulator_bootstrap4.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables@4.4.3/dist/js/tabulator.min.js"></script>
    <!-- Personal -->
    <script src="javascript/tables/personal.js"></script>

    <!-- Popper.js, then Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <script>
        console.log(localStorage.getItem("key"));
    fetch("data.json").then(response => response.json()
    .then(data => ({
        data: data,
        status: response.status
    }))
    .then(data=>{
        
        for(var keys in data.data.projects){
            //let projects = data.data.projects
            if (keys==localStorage.getItem("key")){
                let currentData=data.data.projects[keys]
                $("#projectName").append("<div class style=\"font-size:3em;\" 'container'>"+keys.charAt(0).toUpperCase()+keys.substring(1)+'<div>')
                $("#projectName").append("<div class style=\"font-size:1.5em;\" 'container'>"+`Deadline: ${currentData.mainDeadline}`+'<div>')
                $("#projectName").append("<div class style=\"font-size:1.5em;\" 'container'>"+`Supervisor: ${currentData.mainSupervisor}`+'<div>')
                console.log(currentData)
                //for(i in values){
                $("#projectDesc").append("<div class style=\"font-size:2em;\" 'container'>"+"Description:<br>"+'<div>')
                $("#projectDesc").append("<div class style=\"font-size:1.2em;\" 'container'>"+currentData.description+'<div>')
            //}
                
                }
            
        }
        
        
    }));
    //console.log(localStorage.getItem("firstname"));
    $(document).ready(function(){
        
    })
        </script>

</body>
</html>